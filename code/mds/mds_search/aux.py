def array_to_hadamard_matrix(array):
    n = len(array)

    mat = [[0 for i in range(n)] for j in range(n)]

    for i in range(n):
        for j in range(n):
            xor = i ^ j
            mat[i][j] = array[xor]

    return mat

def matrix_to_array(mat):
    rows = []
    for row in mat:
        rows += row
    return rows

def get5x5array_1():
    return [0x1,0x2,0x9,0x9,0x2,0x2,0x5,0x3,0x8,0xd,0xd,0xb,0xa,0xc,0x1,0x1,0xf,0x2,0x3,0xe,0xe,0xe,0x8,0x5,0xc]

def get5x5array_2():
    return [0xc,0x5,0x8,0xe,0xe,0xe,0x3,0x2,0xf,0x1,0x1,0xc,0xa,0xb,0xd,0xd,0x8,0x3,0x5,0x2,0x2,0x9,0x9,0x2,0x1]

def get5x5array_3():
    return [1,1,2,3,2,2,1,1,2,3,3,2,1,1,2,2,3,2,1,1,1,2,3,2,1]

def get5x5array_4():
    return [1,1,3,6,2,2,1,1,3,6,6,2,1,1,3,3,6,2,1,1,1,3,6,2,1]

def get32x32array():
    arr= [1, 2, 4, 105, 7, 236, 204, 114, 11, 84, 41, 190, 116, 249, 196, 135, 14, 71, 194, 195, 57, 142, 28, 133, 85, 38, 30, 175, 104, 182, 89, 31, 2, 1, 105, 4, 236, 7, 114, 204, 84, 11, 190, 41, 249, 116, 135, 196, 71, 14, 195, 194, 142, 57, 133, 28, 38, 85, 175, 30, 182, 104, 31, 89, 4, 105, 1, 2, 204, 114, 7, 236, 41, 190, 11, 84, 196, 135, 116, 249, 194, 195, 14, 71, 28, 133, 57, 142, 30, 175, 85, 38, 89, 31, 104, 182, 105, 4, 2, 1, 114, 204, 236, 7, 190, 41, 84, 11, 135, 196, 249, 116, 195, 194, 71, 14, 133, 28, 142, 57, 175, 30, 38, 85, 31, 89, 182, 104, 7, 236, 204, 114, 1, 2, 4, 105, 116, 249, 196, 135, 11, 84, 41, 190, 57, 142, 28, 133, 14, 71, 194, 195, 104, 182, 89, 31, 85, 38, 30, 175, 236, 7, 114, 204, 2, 1, 105, 4, 249, 116, 135, 196, 84, 11, 190, 41, 142, 57, 133, 28, 71, 14, 195, 194, 182, 104, 31, 89, 38, 85, 175, 30, 204, 114, 7, 236, 4, 105, 1, 2, 196, 135, 116, 249, 41, 190, 11, 84, 28, 133, 57, 142, 194, 195, 14, 71, 89, 31, 104, 182, 30, 175, 85, 38, 114, 204, 236, 7, 105, 4, 2, 1, 135, 196, 249, 116, 190, 41, 84, 11, 133, 28, 142, 57, 195, 194, 71, 14, 31, 89, 182, 104, 175, 30, 38, 85, 11, 84, 41, 190, 116, 249, 196, 135, 1, 2, 4, 105, 7, 236, 204, 114, 85, 38, 30, 175, 104, 182, 89, 31, 14, 71, 194, 195, 57, 142, 28, 133, 84, 11, 190, 41, 249, 116, 135, 196, 2, 1, 105, 4, 236, 7, 114, 204, 38, 85, 175, 30, 182, 104, 31, 89, 71, 14, 195, 194, 142, 57, 133, 28, 41, 190, 11, 84, 196, 135, 116, 249, 4, 105, 1, 2, 204, 114, 7, 236, 30, 175, 85, 38, 89, 31, 104, 182, 194, 195, 14, 71, 28, 133, 57, 142, 190, 41, 84, 11, 135, 196, 249, 116, 105, 4, 2, 1, 114, 204, 236, 7, 175, 30, 38, 85, 31, 89, 182, 104, 195, 194, 71, 14, 133, 28, 142, 57, 116, 249, 196, 135, 11, 84, 41, 190, 7, 236, 204, 114, 1, 2, 4, 105, 104, 182, 89, 31, 85, 38, 30, 175, 57, 142, 28, 133, 14, 71, 194, 195, 249, 116, 135, 196, 84, 11, 190, 41, 236, 7, 114, 204, 2, 1, 105, 4, 182, 104, 31, 89, 38, 85, 175, 30, 142, 57, 133, 28, 71, 14, 195, 194, 196, 135, 116, 249, 41, 190, 11, 84, 204, 114, 7, 236, 4, 105, 1, 2, 89, 31, 104, 182, 30, 175, 85, 38, 28, 133, 57, 142, 194, 195, 14, 71, 135, 196, 249, 116, 190, 41, 84, 11, 114, 204, 236, 7, 105, 4, 2, 1, 31, 89, 182, 104, 175, 30, 38, 85, 133, 28, 142, 57, 195, 194, 71, 14, 14, 71, 194, 195, 57, 142, 28, 133, 85, 38, 30, 175, 104, 182, 89, 31, 1, 2, 4, 105, 7, 236, 204, 114, 11, 84, 41, 190, 116, 249, 196, 135, 71, 14, 195, 194, 142, 57, 133, 28, 38, 85, 175, 30, 182, 104, 31, 89, 2, 1, 105, 4, 236, 7, 114, 204, 84, 11, 190, 41, 249, 116, 135, 196, 194, 195, 14, 71, 28, 133, 57, 142, 30, 175, 85, 38, 89, 31, 104, 182, 4, 105, 1, 2, 204, 114, 7, 236, 41, 190, 11, 84, 196, 135, 116, 249, 195, 194, 71, 14, 133, 28, 142, 57, 175, 30, 38, 85, 31, 89, 182, 104, 105, 4, 2, 1, 114, 204, 236, 7, 190, 41, 84, 11, 135, 196, 249, 116, 57, 142, 28, 133, 14, 71, 194, 195, 104, 182, 89, 31, 85, 38, 30, 175, 7, 236, 204, 114, 1, 2, 4, 105, 116, 249, 196, 135, 11, 84, 41, 190, 142, 57, 133, 28, 71, 14, 195, 194, 182, 104, 31, 89, 38, 85, 175, 30, 236, 7, 114, 204, 2, 1, 105, 4, 249, 116, 135, 196, 84, 11, 190, 41, 28, 133, 57, 142, 194, 195, 14, 71, 89, 31, 104, 182, 30, 175, 85, 38, 204, 114, 7, 236, 4, 105, 1, 2, 196, 135, 116, 249, 41, 190, 11, 84, 133, 28, 142, 57, 195, 194, 71, 14, 31, 89, 182, 104, 175, 30, 38, 85, 114, 204, 236, 7, 105, 4, 2, 1, 135, 196, 249, 116, 190, 41, 84, 11, 85, 38, 30, 175, 104, 182, 89, 31, 14, 71, 194, 195, 57, 142, 28, 133, 11, 84, 41, 190, 116, 249, 196, 135, 1, 2, 4, 105, 7, 236, 204, 114, 38, 85, 175, 30, 182, 104, 31, 89, 71, 14, 195, 194, 142, 57, 133, 28, 84, 11, 190, 41, 249, 116, 135, 196, 2, 1, 105, 4, 236, 7, 114, 204, 30, 175, 85, 38, 89, 31, 104, 182, 194, 195, 14, 71, 28, 133, 57, 142, 41, 190, 11, 84, 196, 135, 116, 249, 4, 105, 1, 2, 204, 114, 7, 236, 175, 30, 38, 85, 31, 89, 182, 104, 195, 194, 71, 14, 133, 28, 142, 57, 190, 41, 84, 11, 135, 196, 249, 116, 105, 4, 2, 1, 114, 204, 236, 7, 104, 182, 89, 31, 85, 38, 30, 175, 57, 142, 28, 133, 14, 71, 194, 195, 116, 249, 196, 135, 11, 84, 41, 190, 7, 236, 204, 114, 1, 2, 4, 105, 182, 104, 31, 89, 38, 85, 175, 30, 142, 57, 133, 28, 71, 14, 195, 194, 249, 116, 135, 196, 84, 11, 190, 41, 236, 7, 114, 204, 2, 1, 105, 4, 89, 31, 104, 182, 30, 175, 85, 38, 28, 133, 57, 142, 194, 195, 14, 71, 196, 135, 116, 249, 41, 190, 11, 84, 204, 114, 7, 236, 4, 105, 1, 2, 31, 89, 182, 104, 175, 30, 38, 85, 133, 28, 142, 57, 195, 194, 71, 14, 135, 196, 249, 116, 190, 41, 84, 11, 114, 204, 236, 7, 105, 4, 2, 1]
    print(len(arr))
    return arr

def get16x16array():
    return [0x01, 0x03, 0x08, 0xb2, 0x0d, 0x60, 0xe8, 0x1c, 0x0f, 0x2c, 0xa2, 0x8b, 0xc9, 0x7a, 0xac, 0x35,
    0x03, 0x01, 0xb2, 0x08, 0x60, 0x0d, 0x1c, 0xe8, 0x2c, 0x0f, 0x8b, 0xa2, 0x7a, 0xc9, 0x35, 0xac,
    0x08, 0xb2, 0x01, 0x03, 0xe8, 0x1c, 0x0d, 0x60, 0xa2, 0x8b, 0x0f, 0x2c, 0xac, 0x35, 0xc9, 0x7a,
    0xb2, 0x08, 0x03, 0x01, 0x1c, 0xe8, 0x60, 0x0d, 0x8b, 0xa2, 0x2c, 0x0f, 0x35, 0xac, 0x7a, 0xc9,
    0x0d, 0x60, 0xe8, 0x1c, 0x01, 0x03, 0x08, 0xb2, 0xc9, 0x7a, 0xac, 0x35, 0x0f, 0x2c, 0xa2, 0x8b,
    0x60, 0x0d, 0x1c, 0xe8, 0x03, 0x01, 0xb2, 0x08, 0x7a, 0xc9, 0x35, 0xac, 0x2c, 0x0f, 0x8b, 0xa2,
    0xe8, 0x1c, 0x0d, 0x60, 0x08, 0xb2, 0x01, 0x03, 0xac, 0x35, 0xc9, 0x7a, 0xa2, 0x8b, 0x0f, 0x2c,
    0x1c, 0xe8, 0x60, 0x0d, 0xb2, 0x08, 0x03, 0x01, 0x35, 0xac, 0x7a, 0xc9, 0x8b, 0xa2, 0x2c, 0x0f,
    0x0f, 0x2c, 0xa2, 0x8b, 0xc9, 0x7a, 0xac, 0x35, 0x01, 0x03, 0x08, 0xb2, 0x0d, 0x60, 0xe8, 0x1c,
    0x2c, 0x0f, 0x8b, 0xa2, 0x7a, 0xc9, 0x35, 0xac, 0x03, 0x01, 0xb2, 0x08, 0x60, 0x0d, 0x1c, 0xe8,
    0xa2, 0x8b, 0x0f, 0x2c, 0xac, 0x35, 0xc9, 0x7a, 0x08, 0xb2, 0x01, 0x03, 0xe8, 0x1c, 0x0d, 0x60,
    0x8b, 0xa2, 0x2c, 0x0f, 0x35, 0xac, 0x7a, 0xc9, 0xb2, 0x08, 0x03, 0x01, 0x1c, 0xe8, 0x60, 0x0d,
    0xc9, 0x7a, 0xac, 0x35, 0x0f, 0x2c, 0xa2, 0x8b, 0x0d, 0x60, 0xe8, 0x1c, 0x01, 0x03, 0x08, 0xb2,
    0x7a, 0xc9, 0x35, 0xac, 0x2c, 0x0f, 0x8b, 0xa2, 0x60, 0x0d, 0x1c, 0xe8, 0x03, 0x01, 0xb2, 0x08,
    0xac, 0x35, 0xc9, 0x7a, 0xa2, 0x8b, 0x0f, 0x2c, 0xe8, 0x1c, 0x0d, 0x60, 0x08, 0xb2, 0x01, 0x03,
    0x35, 0xac, 0x7a, 0xc9, 0x8b, 0xa2, 0x2c, 0x0f, 0x1c, 0xe8, 0x60, 0x0d, 0xb2, 0x08, 0x03, 0x01]

# python3 ga_search.py  44,81s user 0,51s system 101% cpu 44,703 total
def get8x8array():
    return matrix_to_array(array_to_hadamard_matrix([0x01, 0x02, 0x03, 0x08, 0x04, 0x91, 0xe1, 0xa9]))

def old():
    arr = [0x01, 0x02, 0x04, 0x69, 0x07, 0xec, 0xcc, 0x72, 0x0b, 0x54, 0x29, 0xbe, 0x74, 0xf9, 0xc4, 0x87, 0x0e, 0x47, 0xc2, 0xc3, 0x39, 0x8e, 0x1c, 0x85, 0x55, 0x26, 0x1e, 0xaf, 0x68, 0xb6, 0x59, 0x1f]
    m = array_to_hadamard_matrix(arr)
    print(matrix_to_array(m))
